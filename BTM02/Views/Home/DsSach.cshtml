@model IEnumerable<BTM02.Models.Sach>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Danh sách Sách";
}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />

<div style="margin-top:90px;" class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold text-primary">Danh sách Sách</h2>
        <a href="@Url.Action("Create")" class="btn btn-success">
            <i class="bi bi-plus-circle"></i> Thêm Sách Mới
        </a>
    </div>

    <div class="table-responsive shadow rounded">
        <table class="table table-hover align-middle">
            <thead class="table-primary text-center">
                <tr>
                    <th>Tên Sách</th>
                    <th>Giá Bán</th>
                    <th>Mô Tả</th>
                    <th>Ảnh Bìa</th>
                    <th>Ngày Cập Nhật</th>
                    <th>Số Lượng</th>
                    <th>Chủ Đề</th>
                    <th>NXB</th>
                    <th>Thao Tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td class="fw-semibold">@Html.DisplayFor(m => item.TenSach)</td>
                        <td class="text-success fw-bold">@string.Format("{0:N0} ₫", item.GiaBan)</td>
                        <td class="text-muted" style="max-width: 250px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                            @Html.DisplayFor(m => item.MoTa)
                        </td>
                        <td class="text-center">
                            <img src="@Url.Content(item.AnhBia)" alt="Ảnh bìa" class="rounded shadow-sm" style="width:80px; height:110px; object-fit:cover;" />
                        </td>
                        <td>@Html.DisplayFor(m => item.NgayCapNhat)</td>
                        <td>@Html.DisplayFor(m => item.SoLuong)</td>
                        <td>@Html.DisplayFor(m => item.MaChuDe)</td>
                        <td>@Html.DisplayFor(m => item.MaNXB)</td>
                        <td class="text-center">
                            <!-- Nút sửa -->
                            <a href="@Url.Action("SuaSach", "Home", new { id = item.MaSach })" class="btn btn-sm btn-outline-primary me-1">
                                <i class="bi bi-pencil-square"></i> Sửa
                            </a>


                            <!-- Nút xem -->
                            <a href="@Url.Action("ChiTietSach", "Home", new { id = item.MaSach })"
                               class="btn btn-sm btn-info me-1 text-white">
                                <i class="bi bi-eye"></i> Xem
                            </a>

                            <!-- Nút xóa -->
                            <a href="@Url.Action("XoaSach", "Home", new { id = item.MaSach })"
                               class="btn btn-sm btn-outline-danger"
                               onclick="return confirm('Bạn có chắc chắn muốn xóa sách này không?');">
                                <i class="bi bi-trash"></i> Xóa
                            </a>
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>
